<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <!-- Bootstrap CSS -->


    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">


    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
          integrity="sha384-GLhlTQ8i04FZ5L5nfsO6AvmokBP4tuKKA8fNEH+9QF2t4E+Em/kisjFQV5trn2x4" crossorigin="anonymous">


    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Leckerli One">

    <link rel="stylesheet" href="styleRetouche.css">



    <style>


        h1 {
            text-align: center;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        th, td {
            border: 1px solid #dddddd;
            text-align: left;
            padding: 8px;
        }

        th {
            background-color: #f2f2f2;
        }

        td:last-child {
            text-align: center;
        }

        button {
            padding: 5px 10px;
            cursor: pointer;
        }

        table {

            margin-bottom: 750px;
        }



    </style>
</head>
<body>


<nav class="navbar navbar-expand-lg bg-body-tertiary fs-5 m-0 p-0 ">
    <div class="container-fluid">
        <!--Une div a été rajoutée ici pour mettre ensemble côte à côte le logo et le texte
         légère différence donc par rapport à la page d'accueil de médecin et clinique.
         La classe d-flex offre une disposition flexible et align-items-center permet de centrer
         verticalement les éléments-->
        <div class="d-flex align-items-center">
            <a class="navbar-brand fw-bold" href="PageAccueilMedecin.html">
                <img src="Logo4.png" alt="SantéPourTous Logo">
            </a>
            <a class="navbar-brand fw-bold textLogo me-5" href="#">SantéPourTous</a>
        </div>
    </div>
</nav>


<h1 class="pt-4">Liste des Rendez-vous</h1>

<table class="pt-4">
    <thead>
    <tr>
        <th>ID</th>
        <th>Nom du Patient</th>
        <th>Date du Rendez-vous</th>
        <th>Heure du Rendez-vous</th>
        <th>Action</th>
    </tr>
    </thead>
    <tbody id="listeRendezVous"></tbody>
</table>

<footer class="footer ">
    <p>&copy; 2023 SANTÉPOURTOUS. All Rights Reserved.</p>
    <div class="social-icons">
        <a href="#" target="_blank"><i class="fab fa-facebook"></i></a>
        <a href="#" target="_blank"><i class="fab fa-twitter"></i></a>
        <a href="#" target="_blank"><i class="fab fa-instagram"></i></a>
    </div>
</footer>


<script>

    // Données fictives
    const rendezVousData = [
        {id: 1, nomPatient: 'John Doe', dateRendezVous: '2023-01-15', heureRendezVous: '14:30'},
        {id: 2, nomPatient: 'Jane Doe', dateRendezVous: '2023-01-20', heureRendezVous: '10:00'},
        {id: 3, nomPatient: 'Alain Diouf', dateRendezVous: '2023-02-05', heureRendezVous: '16:45'},
    ];


    // Manipulation des données fictives pour les afficher dans le tableau
    const listeRendezVous = document.getElementById('listeRendezVous');

    rendezVousData.forEach(rendezVous => {
        const row = listeRendezVous.insertRow();
        row.insertCell(0).textContent = rendezVous.id;
        row.insertCell(1).textContent = rendezVous.nomPatient;
        row.insertCell(2).textContent = formatDate(rendezVous.dateRendezVous);
        row.insertCell(3).textContent = rendezVous.heureRendezVous;
        const editCell = row.insertCell(4);
        const editButton = document.createElement('button');
        editButton.textContent = 'Éditer';
        editButton.classList.add('btn', 'btn-primary')
        editButton.addEventListener('click', () => editRendezVous(rendezVous.id, rendezVous.nomPatient, rendezVous.dateRendezVous, rendezVous.heureRendezVous));
        editCell.appendChild(editButton);
    });

    // Fonction pour formater la date au format "YYYY-MM-DD"
    function formatDate(dateString) {
        const options = {year: 'numeric', month: '2-digit', day: '2-digit'};
        return new Date(dateString).toLocaleDateString('fr-CA', options);
    }


    // Fonction pour gérer l'édition d'un rendez-vous
    function editRendezVous(id, nom, date, heure) {
        // Création d'une URL avec les paramètres du rendez-vous
        const url = `editerRendezVous.html?id=${id}&nom=${nom}&date=${date}&heure=${heure}`;

        // Redirection vers la nouvelle page
        window.location.href = url;
    }
</script>


<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
        integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
        integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
        crossorigin="anonymous"></script>

</body>
</html>